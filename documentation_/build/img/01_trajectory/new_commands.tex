
\tdplotsetmaincoords{70}{110}

\newcommand{\SensorA}[6]
{ 
	\fill[cube](#1-#4, #2-#4, #3+#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;
	\fill[cube](#1-#4, #2+#4, #3-#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3-#5) -- cycle;
	\fill[cube](#1+#4, #2-#4, #3-#5) -- (#1+#4, #2+#4, #3-#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;

	\draw[->] (#1+#4, #2,    #3   ) -- (#1+2, #2, #3);
	\draw[->] (#1,    #2+#4, #3   ) -- (#1, #2+1.5, #3);
	\draw[->] (#1,    #2,    #3+#5) -- (#1, #2, #3+1);
	
	\node at (#1, #2, #3+1)[right] {#6};

	\draw[<->,thick,c3] (#1+#4+0.3, #2,    #3   ) -- (#1+1.6, #2, #3);
	\draw[<->,thick,c3] (#1,    #2+#4+0.1, #3   ) -- (#1, #2+1.1, #3);
	\draw[<->,thick,c3] (#1,    #2,    #3+#5+0.2)  -- (#1, #2, #3+0.8);
}

\newcommand{\SensorAII}[6]
{ 
	\fill[cube](#1-#4, #2-#4, #3+#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;
	\fill[cube](#1-#4, #2+#4, #3-#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3-#5) -- cycle;
	\fill[cube](#1+#4, #2-#4, #3-#5) -- (#1+#4, #2+#4, #3-#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;

	\draw[->] (#1+#4, #2,    #3   ) -- (#1+2, #2, #3);
	\draw[->] (#1,    #2+#4, #3   ) -- (#1, #2+1.5, #3);
	\draw[->] (#1,    #2,    #3+#5) -- (#1, #2, #3+1);
	
	\node at (#1, #2, #3+1)[right] {#6};


	%\draw[<->,thick,c3] (#1+#4+0.3, #2,    #3   ) -- (#1+1.6, #2, #3);
	\draw[<->,thick,c3] (#1,    #2+#4+0.1, #3   ) -- (#1, #2+1.1, #3);
	\draw[<->,thick,c3] (#1,    #2,    #3+#5+0.2)  -- (#1, #2, #3+0.8);
}

\newcommand{\SensorAIII}[6]
{ 
	\fill[cube](#1-#4, #2-#4, #3+#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;
	\fill[cube](#1-#4, #2+#4, #3-#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3-#5) -- cycle;
	\fill[cube](#1+#4, #2-#4, #3-#5) -- (#1+#4, #2+#4, #3-#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;

	\draw[->] (#1+#4, #2,    #3   ) -- (#1+2, #2, #3);
	\draw[->] (#1,    #2+#4, #3   ) -- (#1, #2+1.5, #3);
	\draw[->] (#1,    #2,    #3+#5) -- (#1, #2, #3+1);
	
	\node at (#1, #2, #3+1)[right] {#6};

	\draw[<->,thick,c3] (#1+#4+0.3, #2,    #3   ) -- (#1+1.6, #2, #3);
	%\draw[<->,thick,c3] (#1,    #2+#4+0.1, #3   ) -- (#1, #2+1.1, #3);
	\draw[<->,thick,c3] (#1,    #2,    #3+#5+0.2)  -- (#1, #2, #3+0.8);
}

\newcommand{\SensorAIIII}[6]
{ 
	\fill[cube](#1-#4, #2-#4, #3+#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;
	\fill[cube](#1-#4, #2+#4, #3-#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3-#5) -- cycle;
	\fill[cube](#1+#4, #2-#4, #3-#5) -- (#1+#4, #2+#4, #3-#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;

	\draw[->] (#1+#4, #2,    #3   ) -- (#1+2, #2, #3);
	\draw[->] (#1,    #2+#4, #3   ) -- (#1, #2+1.5, #3);
	\draw[->] (#1,    #2,    #3+#5) -- (#1, #2, #3+1);
	
	\node at (#1, #2, #3+1)[right] {#6};

	\draw[<->,thick,c3] (#1+#4+0.3, #2,    #3   ) -- (#1+1.6, #2, #3);
	\draw[<->,thick,c3] (#1,    #2+#4+0.1, #3   ) -- (#1, #2+1.1, #3);
	%\draw[<->,thick,c3] (#1,    #2,    #3+#5+0.2)  -- (#1, #2, #3+0.8);
}

\newcommand{\SensorAG}[6]
{
	\fill[cube](#1-#4, #2-#4, #3+#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;
	\fill[cube](#1-#4, #2+#4, #3-#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3-#5) -- cycle;
	\fill[cube](#1+#4, #2-#4, #3-#5) -- (#1+#4, #2+#4, #3-#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;

	\draw[->] (#1+#4, #2,    #3   ) -- (#1+2, #2, #3);
	\draw[->] (#1,    #2+#4, #3   ) -- (#1, #2+1.5, #3);
	\draw[->] (#1,    #2,    #3+#5) -- (#1, #2, #3+1);

	\draw[<-,thick,c3] (#1,    #2+#4+0.1, #3   ) -- (#1,    #2+#4+0.3, #3   );
	\draw[<-,thick,c3] (#1,    #2,    #3+#5+0.2) -- (#1,    #2,    #3+#5+0.3);

	\tdplotdrawarc[->,color=c2, thick]{(#1,#2, #3 + 0.6)}{0.3}{0}{350}{anchor=south west,color=black}{};

	\tdplotsetthetaplanecoords{0} 
	\tdplotdrawarc[tdplot_rotated_coords,->,color=c2, thick]{(#3,#1,#2 + 0.8)}{0.3}{110}{460}{anchor=south west,color=black}{};


	\tdplotsetthetaplanecoords{-90}
	\tdplotdrawarc[tdplot_rotated_coords,->,color=c2, thick]{(#3,-#2,#1+0.8)}{0.3}{120}{470}{anchor=south west,color=black}{};
	
	\node at (#1, #2, #3+1)[right] {#6};

	\draw[<->,thick,c3] (#1+#4+0.3, #2,    #3   ) -- (#1+1.6, #2, #3);
	\draw[->,thick,c3] (#1,    #2+#4+0.3, #3   ) -- (#1, #2+1.1, #3);
	\draw[->,thick,c3] (#1,    #2,    #3+#5+0.3) -- (#1, #2, #3+0.8);
}

\newcommand{\SensorAGKOMP}[6]
{
	\fill[cube](#1-#4, #2-#4, #3+#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;
	\fill[cube](#1-#4, #2+#4, #3-#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3-#5) -- cycle;
	\fill[cube](#1+#4, #2-#4, #3-#5) -- (#1+#4, #2+#4, #3-#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;

	\draw[->] (#1+#4, #2,    #3   ) -- (#1+2, #2, #3);
	\draw[->] (#1,    #2+#4, #3   ) -- (#1, #2+1.5, #3);
	\draw[->] (#1,    #2,    #3+#5) -- (#1, #2, #3+1);

	\draw[<-,thick,c3] (#1,    #2+#4+0.1, #3   ) -- (#1,    #2+#4+0.3, #3   );
	\draw[<-,thick,c3] (#1,    #2,    #3+#5+0.2) -- (#1,    #2,    #3+#5+0.3);

	\tdplotdrawarc[->,color=c2, thick]{(#1,#2, #3 + 0.6)}{0.3}{0}{350}{anchor=south west,color=black}{};

	\tdplotsetthetaplanecoords{0} 
	\tdplotdrawarc[tdplot_rotated_coords,->,color=c2, thick]{(#3,#1,#2 + 0.8)}{0.3}{110}{460}{anchor=south west,color=black}{};


	\tdplotsetthetaplanecoords{-90}
	\tdplotdrawarc[tdplot_rotated_coords,->,color=c2, thick]{(#3,-#2,#1+0.8)}{0.3}{120}{470}{anchor=south west,color=black}{};
	
	\node at (#1, #2, #3+1)[right] {#6};

	\draw[<->,thick,c3] (#1+#4+0.3, #2,    #3   ) -- (#1+1.6, #2, #3);
	\draw[->,thick,c3] (#1,    #2+#4+0.3, #3   ) -- (#1, #2+1.1, #3);
	\draw[->,thick,c3] (#1,    #2,    #3+#5+0.3) -- (#1, #2, #3+0.8);
}

\newcommand{\SensorAKOMPII}[6]
{ 
	\fill[cube](#1-#4, #2-#4, #3+#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;
	\fill[cube](#1-#4, #2+#4, #3-#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3-#5) -- cycle;
	\fill[cube](#1+#4, #2-#4, #3-#5) -- (#1+#4, #2+#4, #3-#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;

	\draw[->] (#1+#4, #2,    #3   ) -- (#1+2, #2, #3);
	\draw[->] (#1,    #2+#4, #3   ) -- (#1, #2+1.5, #3);
	\draw[->] (#1,    #2,    #3+#5) -- (#1, #2, #3+1);
	
	\draw[<-,thick,c3] (#1,    #2+#4+0.1, #3   ) -- (#1,    #2+#4+0.3, #3   );
	\draw[<-,thick,c3] (#1,    #2,    #3+#5+0.2) -- (#1,    #2,    #3+#5+0.3);
	\draw[->,thick,c3] (#1,    #2+#4+0.3, #3   ) -- (#1, #2+1.1, #3);
	\draw[->,thick,c3] (#1,    #2,    #3+#5+0.3) -- (#1, #2, #3+0.8);

	\node at (#1, #2, #3+1)[right] {#6};
}

\newcommand{\SensorAKOMPIII}[6]
{ 
	\fill[cube](#1-#4, #2-#4, #3+#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;
	\fill[cube](#1-#4, #2+#4, #3-#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3-#5) -- cycle;
	\fill[cube](#1+#4, #2-#4, #3-#5) -- (#1+#4, #2+#4, #3-#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;


	
	\draw[->] (#1+#4, #2,    #3   ) -- (#1+2, #2, #3);
	\draw[->] (#1,    #2+#4, #3   ) -- (#1, #2+1.5, #3);
	\draw[->] (#1,    #2,    #3+#5) -- (#1, #2, #3+1);
	
	\draw[<-,thick,c3] (#1,    #2,    #3+#5+0.2) -- (#1,    #2,    #3+#5+0.3);
	\draw[<->,thick,c3] (#1+#4+0.3, #2,    #3   ) -- (#1+1.6, #2, #3); 
	\draw[->,thick,c3] (#1,    #2,    #3+#5+0.3) -- (#1, #2, #3+0.8);

	\node at (#1, #2, #3+1)[right] {#6};
}

\newcommand{\SensorIMU}[6]
{   
	\tdplotsetrotatedcoords{5}{+30}{-30}

	%\coordinate{P}{0}{0}{-2}
	%\coordinate (O) at (0,0,0);
	%\draw[dashed,<->,color=red] (O) -- (P);
 
	\pgfmathsetmacro{\ax}{0}
	\pgfmathsetmacro{\ay}{0}  
	\pgfmathsetmacro{\az}{-8}    
    
	\tdplottransformmainrot{\ax}{\ay}{\az}   
	  
	\fill[tdplot_rotated_coords,gray!50, fill opacity=0.2] (\ax,\tdplotresy,\tdplotresz) -- (\tdplotresx,\tdplotresy,\tdplotresz)  -- (0,0,0) -- cycle; % face 6
	\fill[tdplot_rotated_coords,gray!30, fill opacity=0.2] (\tdplotresx,\ay,\tdplotresz) -- (\tdplotresx,\tdplotresy,\tdplotresz) --(0,0,0)-- cycle; % face 6
   
	\draw[tdplot_rotated_coords,dotted,->] (0,0,0)--(\ax,\ay,\tdplotresz) node[anchor=south east]{$-g_z$};
	\draw[tdplot_rotated_coords,dotted,->] (\ax,\ay,\tdplotresz)--(\ax,\tdplotresy,\tdplotresz) node[anchor=west]{$g_y$};
 	\draw[tdplot_rotated_coords,dotted,->] (\ax,\ay,\tdplotresz)--(\tdplotresx,\ay,\tdplotresz) node[anchor=east]{$g_x$};
 
	\draw[tdplot_rotated_coords] (\ax,\tdplotresy,\tdplotresz) -- (\tdplotresx,\tdplotresy,\tdplotresz);
	\draw[tdplot_rotated_coords] (\tdplotresx,\ay,\tdplotresz)--(\tdplotresx,\tdplotresy,\tdplotresz);

	\draw[tdplot_rotated_coords,dotted] (0,0,0)--(\ax,\tdplotresy,\tdplotresz) node[midway,right]{\tiny$\sqrt{g_y^2+g_z^2}$};
	\draw[tdplot_rotated_coords,dotted] (0,0,0)--(\tdplotresx,\ay,\tdplotresz);
    
	%gravity vector      
	\draw[->] (0,0,-0.0) -- (0,0,-8) node[right]{$\vv{\prescript{}{N}g}$};   
     
	% Sensor model           
	\fill[tdplot_rotated_coords,cube](#1-#4, #2-#4, #3+#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;
	\fill[tdplot_rotated_coords,cube](#1-#4, #2+#4, #3-#5) -- (#1-#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2+#4, #3-#5) -- cycle;
	\fill[tdplot_rotated_coords,cube](#1+#4, #2-#4, #3-#5) -- (#1+#4, #2+#4, #3-#5) -- (#1+#4, #2+#4, #3+#5) -- (#1+#4, #2-#4, #3+#5) -- cycle;
    
	%% coordinat frame Body    
	\draw[tdplot_rotated_coords,dashed,->] (#1+#4, #2,    #3   ) -- (#1+1.3, #2, #3) node [anchor=east] {$\prescript{}{\mathbb{B}}x$};
	\draw[tdplot_rotated_coords,dashed,->] (#1,    #2+#4, #3   ) -- (#1, #2+1.5, #3) node [anchor=west] {$\prescript{}{\mathbb{B}}y$};
	\draw[tdplot_rotated_coords,dashed,->] (#1,    #2,    #3+#5) -- (#1, #2, #3+1) node [anchor=east] {$\prescript{}{\mathbb{B}}z$};
     
      
	%% euler arngles with arc
	\tdplottransformrotmain{\ax}{\tdplotresy}{\tdplotresz}
	\tdplotdefinepoints(0,0,0)(0, 0, -1)(\tdplotresx,\tdplotresy-0.05,\tdplotresz-0.05);
	\tdplotdrawpolytopearc[thin]{6}{anchor=north}{$\varphi_y$}; 
  
	\tdplotsetthetaplanecoords{60}
	\tdplotdrawarc[tdplot_rotated_coords,dotted]{(0,0,0)}{3}{142}{162}{anchor = north}{$\varphi_x$};
}    

    